<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="estilos.css"/>
    <script src="jquery-1.10.1.min.js"></script>
    <title>Preguntas y Respuestas</title>
</head>
<body>
    <section id="pregunta">Aquí va la pregunta</section>
    <section id="resp1" class="respuesta rizq" onclick="if(confirm('¿Es A) tu Respuesta final?'))revisa_si_correcta('R1');">A)<span id="R1"></span></section>
	<section id="resp2" class="respuesta rder" onclick="if(confirm('¿Es B) tu Respuesta final?'))revisa_si_correcta('R2');">B)<span id="R2"></span></section>
	<section id="resp3" class="respuesta rizq" onclick="if(confirm('¿Es C) tu Respuesta final?'))revisa_si_correcta('R3');">C)<span id="R3"></span></section>
	<section id="resp4" class="respuesta rder" onclick="if(confirm('¿Es D) tu Respuesta final?'))revisa_si_correcta('R4');">D)<span id="R4"></span></section>
	<button id="iniciar" class="panel_sup" onclick="inicializa_juego();" >Nuevo Juego</button>
	<div id="wrap_premio" class="panel_sup">$<span id="premio">0</span></div>
</body>
    <script>

        var preguntas_c1=[
            ['¿Cómo se declara una variable en javascript?','var i=0;','i=0','int i=0;','$i=0;'],
            ['¿Como se llama el creador de C?','Dennis Ritchie','Brian Kernighan','Alan Turing','Freddy Mercury'],
        ];
        var preguntas_c2=[
            ['¿En que año nacio James Gosling?','19 de mayo de 1955','24 de abril de 1992','9 de julio de 1765','31 de febrero 2015','22 de diciembre 1956'],
            ['¿Que famoso personaje y desarrollador, que actualmente trabaja en Dropbox nació un 31 de enero de 1956?','Guido van Rossum','Larry Page','Mark Zuckerberg','Patrick Volkerding']
        ];
        var preguntas_c3=[
            ['¿Cual es el bus real de una memoria que reporta PC-10600?','667Mhz','533Mhz','400Mhz','10600Mhz'],
            ['¿Cuantas líneas de código tenía la primera version del kernel de Linux (ver1.0.0)?','176,250','1,800,847','176,240','176,260']
        ];

        //ToDo Agregar más preguntas!!!
        //Arreglo con los premios
        var cantidades=[100,200,300,500,1000];

        //Variables para llevar el estado actual
        var premio_actual=0
        var pregunta_actual=0;
        var respuestas=['R1','R2','R3','R4'];
        var preguntas=[0,1];//2,3,4,]
        var ps=0;

        //Funciones auxiliares copiadas de Internet
        //+ Jonas Raoni Soares Silva
        //@ http://jsfromhell.com/array/shuffle [v1.0]
        function shuffle(o){ //v1.0
            for(var j, x, i = o.length; i; j = parseInt(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
        return o;
        };

        function cambia_pregunta(){
            console.log(pregunta_actual)
            if(pregunta_actual<5){
                //"Shufflea" las respuestas
                var resp=shuffle(respuestas);
                ps=shuffle(preguntas);
                var iterator = Math.floor(Math.random() * 2); //cambia el 2 si hay más de 2 preguntas
                console.log(iterator);
                switch(pregunta_actual){
                    case 0:
                        console.log(preguntas_c1[ps[iterator]][0])
                        console.log(preguntas_c3[ps[iterator]][0])
                        console.log("ps"+ps)
                        $('#pregunta').html(preguntas_c1[ps[iterator]][0])
                        //Reset a la clase correcta en todas las preguntas
                        $('.respuesta').removeClass('correcta');
                        $('#'+resp[0]).html(preguntas_c1[ps[iterator]][1])
                        $('#'+resp[1]).html(preguntas_c1[ps[iterator]][2])
                        $('#'+resp[2]).html(preguntas_c1[ps[iterator]][3])
                        $('#'+resp[3]).html(preguntas_c1[ps[iterator]][4])
                        $('#'+resp[0]).addClass('correcta');
                        break
                    case 1:
                        console.log(preguntas_c3[ps[iterator]][0])
                        $('#pregunta').html(preguntas_c2[ps[iterator]][0])
                        //Reset a la clase correcta en todas las preguntas
                        $('.respuesta').removeClass('correcta');
                        $('#'+resp[0]).html(preguntas_c2[ps[iterator]][1])
                        $('#'+resp[1]).html(preguntas_c2[ps[iterator]][2])
                        $('#'+resp[2]).html(preguntas_c2[ps[iterator]][3])
                        $('#'+resp[3]).html(preguntas_c2[ps[iterator]][4])
                        $('#'+resp[0]).addClass('correcta');
                        break
                    case 2:
                        console.log(preguntas_c3[ps[iterator]][0])
                        $('#pregunta').html(preguntas_c3[ps[iterator]][0])
                        //Reset a la clase correcta en todas las preguntas
                        $('.respuesta').removeClass('correcta');
                        $('#'+resp[0]).html(preguntas_c3[ps[iterator]][1])
                        $('#'+resp[1]).html(preguntas_c3[ps[iterator]][2])
                        $('#'+resp[2]).html(preguntas_c3[ps[iterator]][3])
                        $('#'+resp[3]).html(preguntas_c3[ps[iterator]][4])
                        $('#'+resp[0]).addClass('correcta');
                        break
                    //Aqui poner codigo para las otras 2 categorias de preguntas
                }
                
                //Cambiar pregunta
                pregunta_actual+=1;
            }
        };

        function revisa_si_correcta(r){
            var acerto=$("#"+r).hasClass('correcta');
            if(acerto){
                    alert("Correcto!");
                    $("#premio").html(cantidades[pregunta_actual-1]);
                    premio_actual = cantidades[pregunta_actual-1];
                    cambia_pregunta();
                   
            }else{
                incorrectas();
            }
        };

        function incorrectas(){
            switch(pregunta_actual-1){
                case 0:
                    alert("Respuesta incorrecta. Perdiste.\nDa Click en aceptar para empezar de nuevo.");
                    inicializa_juego();
                    break
                case 1:
                    alert("Respuesta incorrecta. Perdiste. Pero te llevas un premio de: $"+premio_actual+".Da Click en aceptar para empezar de nuevo.");
                    inicializa_juego();
                    break
                case 2:
                    alert("Respuesta incorrecta. Perdiste. Pero te llevas un premio de: $"+premio_actual+".Da Click en aceptar para empezar de nuevo.");
                    inicializa_juego();
                    break
                case 3:
                    alert("Respuesta incorrecta. Perdiste. Pero te llevas un premio de: $"+premio_actual+".Da Click en aceptar para empezar de nuevo.");
                    inicializa_juego();
                    break
                case 4:
                    alert("Respuesta incorrecta. Perdiste. Pero te llevas un premio de: $"+premio_actual+".Da Click en aceptar para empezar de nuevo.");
                    inicializa_juego();
                    break
            }
        }

        function inicializa_juego(){
            pregunta_actual=0;
            cambia_pregunta();
            $("#premio").html('0');
        };

    </script>
</html>